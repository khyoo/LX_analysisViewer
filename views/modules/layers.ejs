<script type="text/javascript">

  // Create layer
  var buildingSource = new ol.source.Vector({
    url: '/data/j_build.geojson',
    projection: 'EPSG:3857',
    format: new ol.format.GeoJSON()
  });

  var buildingVector = new ol.layer.Vector({
    title: '건물 Polygon',
    visible: true,
    source: buildingSource,
    /*
    style: new ol.style.Style({
    fill: new ol.style.Fill({ color: '#333' })
    }),
    */
    maxResolution: 7,
    zIndex: 1100
  });
  //map.addLayer(buildingVector);

  // Create layer
  var roadPOISource = new ol.source.Vector({
    url: '/data/poi.geojson',
    projection: 'EPSG:3857',
    format: new ol.format.GeoJSON()
  });

  var roadPOIVector = new ol.layer.Vector({
    title: '도로 Point',
    visible: true,
    source: roadPOISource,
    style: new ol.style.Style({
      image: new ol.style.Circle({
        radius: 5,
        snapToPixel: false,
        stroke: new ol.style.Stroke({
          //color: "#6C757D",
          color: "#900",
          width: 2
        })
      })
    }),
    maxResolution: 25,
    zIndex: 1000
  });
  //map.addLayer(poiVector);

  // flowline vetor layer
  var flowlineSource = new ol.source.Vector({
    url: '/data/flowline.geojson',
    format: new ol.format.GeoJSON()
  });
  var flowlineVector = new ol.layer.VectorImage({
    title: '도로 점수',
    visible: false,
    source: flowlineSource,
    style: styleFn
  });
  //map.addLayer(gpxVector);

  flowlineSource.once('change', function (e) {
    if (flowlineSource.getState() === 'ready') {
      /**
      * author : khyoo1221
      * description : 
      * @param {feature}
      * @param {paramNm}
      * @param {px}
      * 
      */
      setCoords_Z(flowlineSource.getFeatures()[0], 'params', 200);

      // Set Min/Max from feature
      getMinMax(flowlineSource.getFeatures()[0]);
    }
  });

  // Set 3D renderer
  var r3D = new ol.render3D({
    /** /
    style: new ol.style.Style({
      stroke: new ol.style.Stroke({
        color: 'blue',
        width: 2
      }),
      fill: new ol.style.Fill({ color: 'red' })
    }),
    /**/
    // ghost: true,
    height: 0,
    maxResolution: 10,
    defaultHeight: 3.5
  });
  buildingVector.setRender3D(r3D);


</script>